.\" section 8 man page for mkiocccentry_test.sh
.\"
.\" This man page was first written by Cody Boone Ferguson for the IOCCC
.\" in 2022.
.\"
.\" Humour impairment is not virtue nor is it a vice, it's just plain
.\" wrong: almost as wrong as JSON spec mis-features and C++ obfuscation! :-)
.\"
.\" "Share and Enjoy!"
.\"     --  Sirius Cybernetics Corporation Complaints Division, JSON spec department. :-)
.\"
.TH mkiocccentry_test.sh 8 "21 January 2023" "mkiocccentry_test.sh" "IOCCC tools"
.SH NAME
mkiocccentry_test.sh \- run several invocations of \fBmkiocccentry(1)\fP to test that it functions well
.SH SYNOPSIS
\fBmkiocccentry_test.sh\fP [\-h] [\-V] [\-v level] [\-J level] [\-Z topdir]
.SH DESCRIPTION
\fBmkiocccentry_test.sh\fP runs a series of invocations of \fBmkiocccentry\fP, testing various types of inputs including multiple authors some of which have non\-ASCII characters in their name.
.SH OPTIONS
.TP
\fB\-h\fP
Print help and exit.
.TP
\fB\-V\fP
Print version and exit.
.TP
\fB\-v\fP
Set verbosity level (def: 0).
.TP
\fB\-J\fP
Set JSON verbosity level.
.TP
\fB\-Z\fP \fItopdir\fP
Declare the top level directory of this repository.
The \fBtopdir\fP directory must contain the source file \fImkiocccentry.c\fP.
By default, the source file \fImkiocccentry.c\fP is searched for in the current directory,
and then the parent of current directory.
.sp 1
If \fB\-Z\fP \fItopdir\fP is used on the command line, then the source file \fImkiocccentry.c\fP need not exist
in the \fBtopdir\fP directory.
If \fB\-Z\fP \fItopdir\fP is not used on the command line, and the source file \fImkiocccentry.c\fP
is not found in the current directory not the parent of current directory,
then this command exits as if there was a command line error.
.sp 1
Once the \fBtopdir\fP directory is established,
this command moves to that directory.
.SH EXIT STATUS
.TP
0
all tests are OK
.TQ
2
\-h and help string printed or \-V and version string printed
.TQ
3
command line usage error
.TQ
9
.I work_dir\c
\& or
.I src_dir\c
\& not found or
.B mkiocccentry
not executable.
.TQ
\(>= 10
.B mkiocccentry
error code.
.SH BUGS
.PP
This script does not let one set the path to the needed tools like the other scripts do and so requires that one is in the clone of the repo directory to successfully run this script.
This should probably be fixed.
.SH SEE ALSO
\fBioccc_test(8)\fP and \fBiocccsize_test(8)\fP
