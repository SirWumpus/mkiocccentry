.\" section 8 man page for all_sem_ref.sh
.\"
.\" This man page was first written by Cody Boone Ferguson for the IOCCC
.\" in 2022.
.\"
.\" Humour impairment is not virtue nor is it a vice, it's just plain
.\" wrong: almost as wrong as JSON spec mis-features and C++ obfuscation! :-)
.\"
.\" "Share and Enjoy!"
.\"     --  Sirius Cybernetics Corporation Complaints Division, JSON spec department. :-)
.\"
.TH all_sem_ref.sh 8 "15 January 2023" "all_sem_ref.sh" "IOCCC tools"
.SH NAME
all_sem_ref.sh \- form \fI*.json.c\fP and \fI*.json.h\fP semantic table files
.SH SYNOPSIS
\fBall_sem_ref.sh\fP [\-h] [\-v level] [\-V] [\-j jsemtblgen] [\-J jsemcgen.sh] info.head.c info.tail.c info.head.h info.tail.h auth.head.c auth.tail.c auth.head.h auth.tail.h info_dir auth_dir ref_dir
.SH DESCRIPTION
This tool forms semantic table files under a given directory.
JSON semantics tables allow for semantic tests on valid JSON such as testing counts of JSON objects at various depths and testing values of JSON objects as well as testing relationships between values of JSON objects.
.PP
In general, a JSON semantics table is an array of \fBstruct json_sem\fP that can be used to drive checks on the semantics of valid JSON.
This can be done for any JSON file but in particular this tool is for the \fI.info.json\fP and \fI.auth.json\fP files as part of the judging process for the IOCCC.
.PP
The \fIinfo.head.c\fP file is a \fI.info.json\fP style header for .c semantic table files.
.br
The \fIinfo.tail.c\fP file is a \fI.info.json\fP style trailer for .c semantic table files.
.br
The \fIinfo.head.h\fP file is a \fI.info.json\fP style header for .h semantic table files.
.br
The \fIinfo.tail.h\fP file is a \fI.info.json\fP style trailer for .h semantic table files.
.PP
The \fIauth.head.c\fP file is a \fI.auth.json\fP style header for .c semantic table files.
.br
The \fIauth.tail.c\fP file is a \fI.auth.json\fP style trailer for .c semantic table files.
.br
The \fIauth.head.h\fP file is a \fI.auth.json\fP style header for .h semantic table files.
.br
The \fIauth.tail.h\fP file is a \fI.auth.json\fP style trailer for .h semantic table files.
.PP
The \fIinfo_dir\fP directory is expected to have \fI*.json\fP files as \fI.info.json\fP files.
.br
The \fIauth_dir\fP directory is expected to have \fI*.json\fP files as \fI.auth.json\fP files.
.br
The \fIref_dir\fP directory is a subdirectory under which the semantic table files are written.
.SH OPTIONS
.TP
\fB\-h\fP
Show help and exit.
.TP
\fB\-v \fIlevel\fP\fP
Set verbosity level to level.
.TP
\fB\-V\fP
Show version and exit.
.TP
\fB-j \fIjsemtblgen\fP\fP
Set path to \fBjsemtblgen(8)\fP.
.TP
\fB-J \fIjsemcgen.sh\fP\fP
Set path to \fBjsemcgen(8)\fP.
.SH EXIT STATUS
.TP
0
all is well
.TQ
2
\fB\-h\fP or \fB\-V\fP used and help string printed or version string printed
.TQ
3
Command line error
.TQ
4
\fBjsemcgen.sh\fP not found or not executable
.TQ
5
Missing or not readable header or trailer file
.TQ
6
Missing, not readable, or not writable \fIinfo_dir\fP, \fIauth_dir\fP and/or \fIref_dir\fP
.TQ
>= 10
Internal error
.SH NOTES
.PP
The JSON parser \fBjparse\fP was co\-developed by Cody Boone Ferguson and Landon Curt Noll (one of the IOCCC Judges) in support for IOCCCMOCK, IOCCC28 and beyond.
.PP
This tool is needed in order to generate the JSON semantics table for \fBchkentry(1)\fP.
.SH BUGS
If you have a problem with the tool (not JSON itself! :\-) ) you can report it at the GitHub issues page.
It can be found at
.br
\fI\<https://github.com/ioccc\-src/mkiocccentry/issues\>\fP.
.SH SEE ALSO
\fBjsemtblgen(8)\fP, \fBchkentry(1)\fP, \fBjsemcgen(8)\fP
