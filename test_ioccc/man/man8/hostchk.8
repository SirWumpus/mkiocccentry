.\" section 1 man page for hostchk.sh
.\"
.\" This man page was first written by Cody Boone Ferguson for the IOCCC
.\" in 2022.
.\"
.\" Humour impairment is not virtue nor is it a vice, it's just plain
.\" wrong: almost as wrong as JSON spec mis-features and C++ obfuscation! :-)
.\"
.\" "Share and Enjoy!"
.\"     --  Sirius Cybernetics Corporation Complaints Division, JSON spec department. :-)
.\"
.TH hostchk.sh 8 "11 January 2023" "hostchk.sh" "IOCCC tools"
.SH NAME
hostchk.sh \- run a series of checks on your system to help determine if you can correctly use the mkiocccentry toolkit
.SH SYNOPSIS
\fBhostchk.sh\fP [\-h] [\-V] [\-v level] [\-D dbg_level] [\-c cc] [\-w work_dir] [\-f] [\-Z topdir]
.SH DESCRIPTION
\fBhostchk.sh\fP runs a series of checks to determine if you will be able to create an acceptable IOCCC entry tarball.
If any step fails we recommend you use the \fBbug_report(1)\fP script to create a log file for filing a bug.
.SH OPTIONS
.TP
\fB\-h\fP
Show help and exit.
.TP
\fB\-V\fP
Show version and exit.
.TP
\fB\-v \fIlevel\fP\fP
Set verbosity level to \fIlevel\fP.
.TP
\fB\-D \fIlevel\fP\fP
Set verbosity level for the tests the script runs to \fIlevel\fP.
.TP
\fB\-c \fIcc\fP\fP
Set path to the compiler (cc) to \fIcc\fP.
.TP
\fB\-w \fIwork_dir\fP\fP
Use a working directory of \fIwork_dir\fP.
By default a temporary working directory is used.
The \fIwork_dir\fP must not exist.
.TP
\fB\-f\fP
Fast compile mode.
Instead of testing one required system header file at a time it does it all at once.
The default is not to use \fB\-f\fP because it will give more information to help identify the problem (and also let you know which files work).
.TP
\fB\-Z\fP \fItopdir\fP
Declare the top level directory of this repository.
The \fBtopdir\fP directory must contain the source file \fImkiocccentry.c\fP.
By default, the source file \fImkiocccentry.c\fP is searched for in the current directory,
and then the parent of current directory.
.sp 1
If \fB\-Z\fP \fItopdir\fP is used on the command line, then the source file \fImkiocccentry.c\fP need not exist
in the \fBtopdir\fP directory.
If \fB\-Z\fP \fItopdir\fP is not used on the command line, and the source file \fImkiocccentry.c\fP
is not found in the current directory not the parent of current directory,
then this command exits as if there was a command line error.
.sp 1
Once the \fBtopdir\fP directory is established,
this command moves to that directory.
.SH EXIT STATUS
.TP
0
all OK
.TQ
2
help mode and version mode exit
.TQ
3
invalid command line
.TQ
>= 10
internal error or a test failed
.SH NOTES
.PP
Even if the script exits 0 it does not necessarily mean there is no problem.
If you feel there is a problem that was not detected you may still open an issue on the GitHub page (or email the Judges).
In that case you should use \fBbug_report(1)\fP and include the log that it creates in your report.
.PP
The output can seem redundant if it fails and \fBhostchk(1)\fP was run via the Makefile since it will issue a warning that will tell you to use
\fBhostchk(1)\fP and also tell you to use \fBbug_report(1)\fP which itself will tell you to use \fBhostchk(1)\fP which will trigger the warning again.
Sorry in advance if (to use an American English phrase which I will happily use for a pun for a pun not made is a wasted opportunity) this throws you for a loop :\-) but we feel that it's better that the warning is really stressed as it most likely means that you won't be able to use the toolkit to successfully create a valid IOCCC tarball.
But now that you're in the loop it shouldn't even matter! :\-)
.SH BUGS
.PP
No bugs are known except that a human wrote it. :\-)
.PP
Please remember that just because the script reports issues does not mean that there's a bug with the script itself.
Instead it probably is a problem with one of the tools on your system which the script detected and is reporting.
If that is the case please do use \fBbug_report(1)\fP and attach the log file it creates in your report.
.PP
Nevertheless, if you feel there is an issue with this tool you may open an issue at the GitHub issues page.
Once again though, depending on the issue it might be a good idea to run \fBbug_report(1)\fP and attach the log file it creates.
\fBbug_report(1)\fP will tell you how and where to report bugs as well.
.SH EXAMPLES
.PP
.nf
Run script in fast mode:
.RS
\fB
 ./test_ioccc/hostchk.sh \-f\fP
.fi
.RE
.SH SEE ALSO
\fBbug_report(1)\fP
